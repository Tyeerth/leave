<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.jxust.leave.dao.AdminMapper">

    <!--更改管理员的信息。-->
    <update id="updateAdmin" parameterType="cn.jxust.leave.po.Employee">
        update  employee
        <set>
            <if test="name !=null and name !='' ">
                name = #{name},
            </if>
            <if test="gender !=null and gender!=''">
                gender = #{gender},
            </if>
            <if test="roleId !=null and roleId!=''">
                role_id = #{roleId},
            </if>
            <if test="phoneNumber !=null and phoneNumber !=''">
                phone_number =#{phoneNumber},
            </if>
            <if test="username!=null and username!=''">
                username = #{username},
            </if>
            <if test="password !=null and password !=''">
                password = #{password},
            </if>
        </set>
        where id= #{id}
    </update>
    <select id="getAdminByUserName" resultType="cn.jxust.leave.po.Employee" parameterType="string">
        select * from employee
        <where>
            <if test="username!='' and username!=null">
              and  username=#{username}
            </if>
        </where>
    </select>

</mapper>